{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n/**\n * @author Saviio\n * @since 2020-4-19\n */\n// https://developer.mozilla.org/en-US/docs/Web/API/CSSRule\nvar RuleType;\n(function (RuleType) {\n  // type: rule will be rewrote\n  RuleType[RuleType[\"STYLE\"] = 1] = \"STYLE\";\n  RuleType[RuleType[\"MEDIA\"] = 4] = \"MEDIA\";\n  RuleType[RuleType[\"SUPPORTS\"] = 12] = \"SUPPORTS\";\n  // type: value will be kept\n  RuleType[RuleType[\"IMPORT\"] = 3] = \"IMPORT\";\n  RuleType[RuleType[\"FONT_FACE\"] = 5] = \"FONT_FACE\";\n  RuleType[RuleType[\"PAGE\"] = 6] = \"PAGE\";\n  RuleType[RuleType[\"KEYFRAMES\"] = 7] = \"KEYFRAMES\";\n  RuleType[RuleType[\"KEYFRAME\"] = 8] = \"KEYFRAME\";\n})(RuleType || (RuleType = {}));\nvar arrayify = function arrayify(list) {\n  return [].slice.call(list, 0);\n};\nvar rawDocumentBodyAppend = HTMLBodyElement.prototype.appendChild;\nexport var ScopedCSS = /*#__PURE__*/function () {\n  function ScopedCSS() {\n    _classCallCheck(this, ScopedCSS);\n    this.sheet = void 0;\n    this.swapNode = void 0;\n    var styleNode = document.createElement('style');\n    rawDocumentBodyAppend.call(document.body, styleNode);\n    this.swapNode = styleNode;\n    this.sheet = styleNode.sheet;\n    this.sheet.disabled = true;\n  }\n  _createClass(ScopedCSS, [{\n    key: \"process\",\n    value: function process(styleNode) {\n      var _this = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      if (ScopedCSS.ModifiedTag in styleNode) {\n        return;\n      }\n      if (styleNode.textContent !== '') {\n        var _sheet$cssRules;\n        var textNode = document.createTextNode(styleNode.textContent || '');\n        this.swapNode.appendChild(textNode);\n        var sheet = this.swapNode.sheet; // type is missing\n        var rules = arrayify((_sheet$cssRules = sheet === null || sheet === void 0 ? void 0 : sheet.cssRules) !== null && _sheet$cssRules !== void 0 ? _sheet$cssRules : []);\n        var css = this.rewrite(rules, prefix);\n        // eslint-disable-next-line no-param-reassign\n        styleNode.textContent = css;\n        // cleanup\n        this.swapNode.removeChild(textNode);\n        styleNode[ScopedCSS.ModifiedTag] = true;\n        return;\n      }\n      var mutator = new MutationObserver(function (mutations) {\n        for (var i = 0; i < mutations.length; i += 1) {\n          var mutation = mutations[i];\n          if (ScopedCSS.ModifiedTag in styleNode) {\n            return;\n          }\n          if (mutation.type === 'childList') {\n            var _sheet$cssRules2;\n            var _sheet = styleNode.sheet;\n            var _rules = arrayify((_sheet$cssRules2 = _sheet === null || _sheet === void 0 ? void 0 : _sheet.cssRules) !== null && _sheet$cssRules2 !== void 0 ? _sheet$cssRules2 : []);\n            var _css = _this.rewrite(_rules, prefix);\n            // eslint-disable-next-line no-param-reassign\n            styleNode.textContent = _css;\n            // eslint-disable-next-line no-param-reassign\n            styleNode[ScopedCSS.ModifiedTag] = true;\n          }\n        }\n      });\n      // since observer will be deleted when node be removed\n      // we dont need create a cleanup function manually\n      // see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/disconnect\n      mutator.observe(styleNode, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"rewrite\",\n    value: function rewrite(rules) {\n      var _this2 = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var css = '';\n      rules.forEach(function (rule) {\n        switch (rule.type) {\n          case RuleType.STYLE:\n            css += _this2.ruleStyle(rule, prefix);\n            break;\n          case RuleType.MEDIA:\n            css += _this2.ruleMedia(rule, prefix);\n            break;\n          case RuleType.SUPPORTS:\n            css += _this2.ruleSupport(rule, prefix);\n            break;\n          default:\n            if (typeof rule.cssText === 'string') {\n              css += \"\".concat(rule.cssText);\n            }\n            break;\n        }\n      });\n      return css;\n    }\n    // handle case:\n    // .app-main {}\n    // html, body {}\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"ruleStyle\",\n    value: function ruleStyle(rule, prefix) {\n      var rootSelectorRE = /((?:[^\\w\\-.#]|^)(body|html|:root))/gm;\n      var rootCombinationRE = /(html[^\\w{[]+)/gm;\n      var selector = rule.selectorText.trim();\n      var cssText = '';\n      if (typeof rule.cssText === 'string') {\n        cssText = rule.cssText;\n      }\n      // handle html { ... }\n      // handle body { ... }\n      // handle :root { ... }\n      if (selector === 'html' || selector === 'body' || selector === ':root') {\n        return cssText.replace(rootSelectorRE, prefix);\n      }\n      // handle html body { ... }\n      // handle html > body { ... }\n      if (rootCombinationRE.test(rule.selectorText)) {\n        var siblingSelectorRE = /(html[^\\w{]+)(\\+|~)/gm;\n        // since html + body is a non-standard rule for html\n        // transformer will ignore it\n        if (!siblingSelectorRE.test(rule.selectorText)) {\n          cssText = cssText.replace(rootCombinationRE, '');\n        }\n      }\n      // handle grouping selector, a,span,p,div { ... }\n      cssText = cssText.replace(/^[\\s\\S]+{/, function (selectors) {\n        return selectors.replace(/(^|,\\n?)([^,]+)/g, function (item, p, s) {\n          // handle div,body,span { ... }\n          if (rootSelectorRE.test(item)) {\n            return item.replace(rootSelectorRE, function (m) {\n              // do not discard valid previous character, such as body,html or *:not(:root)\n              var whitePrevChars = [',', '('];\n              if (m && whitePrevChars.includes(m[0])) {\n                return \"\".concat(m[0]).concat(prefix);\n              }\n              // replace root selector with prefix\n              return prefix;\n            });\n          }\n          return \"\".concat(p).concat(prefix, \" \").concat(s.replace(/^ */, ''));\n        });\n      });\n      return cssText;\n    }\n    // handle case:\n    // @media screen and (max-width: 300px) {}\n  }, {\n    key: \"ruleMedia\",\n    value: function ruleMedia(rule, prefix) {\n      var css = this.rewrite(arrayify(rule.cssRules), prefix);\n      return \"@media \".concat(rule.conditionText || rule.media.mediaText, \" {\").concat(css, \"}\");\n    }\n    // handle case:\n    // @supports (display: grid) {}\n  }, {\n    key: \"ruleSupport\",\n    value: function ruleSupport(rule, prefix) {\n      var css = this.rewrite(arrayify(rule.cssRules), prefix);\n      return \"@supports \".concat(rule.conditionText || rule.cssText.split('{')[0], \" {\").concat(css, \"}\");\n    }\n  }]);\n  return ScopedCSS;\n}();\nScopedCSS.ModifiedTag = 'Symbol(style-modified-qiankun)';\nvar processor;\nexport var QiankunCSSRewriteAttr = 'data-qiankun';\nexport var process = function process(appWrapper, stylesheetElement, appName) {\n  // lazy singleton pattern\n  if (!processor) {\n    processor = new ScopedCSS();\n  }\n  if (stylesheetElement.tagName === 'LINK') {\n    console.warn('Feature: sandbox.experimentalStyleIsolation is not support for link element yet.');\n  }\n  var mountDOM = appWrapper;\n  if (!mountDOM) {\n    return;\n  }\n  var tag = (mountDOM.tagName || '').toLowerCase();\n  if (tag && stylesheetElement.tagName === 'STYLE') {\n    var prefix = \"\".concat(tag, \"[\").concat(QiankunCSSRewriteAttr, \"=\\\"\").concat(appName, \"\\\"]\");\n    processor.process(stylesheetElement, prefix);\n  }\n};","map":{"version":3,"names":["_classCallCheck","_createClass","RuleType","arrayify","list","slice","call","rawDocumentBodyAppend","HTMLBodyElement","prototype","appendChild","ScopedCSS","sheet","swapNode","styleNode","document","createElement","body","disabled","key","value","process","_this","prefix","arguments","length","undefined","ModifiedTag","textContent","_sheet$cssRules","textNode","createTextNode","rules","cssRules","css","rewrite","removeChild","mutator","MutationObserver","mutations","i","mutation","type","_sheet$cssRules2","_sheet","_rules","_css","observe","childList","_this2","forEach","rule","STYLE","ruleStyle","MEDIA","ruleMedia","SUPPORTS","ruleSupport","cssText","concat","rootSelectorRE","rootCombinationRE","selector","selectorText","trim","replace","test","siblingSelectorRE","selectors","item","p","s","m","whitePrevChars","includes","conditionText","media","mediaText","split","processor","QiankunCSSRewriteAttr","appWrapper","stylesheetElement","appName","tagName","console","warn","mountDOM","tag","toLowerCase"],"sources":["/home/lishu/桌面/Micro_frontend_practice/qiankun_micro/qiankun-base/node_modules/qiankun/es/sandbox/patchers/css.js"],"sourcesContent":["import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\n/**\n * @author Saviio\n * @since 2020-4-19\n */\n// https://developer.mozilla.org/en-US/docs/Web/API/CSSRule\nvar RuleType;\n(function (RuleType) {\n  // type: rule will be rewrote\n  RuleType[RuleType[\"STYLE\"] = 1] = \"STYLE\";\n  RuleType[RuleType[\"MEDIA\"] = 4] = \"MEDIA\";\n  RuleType[RuleType[\"SUPPORTS\"] = 12] = \"SUPPORTS\";\n  // type: value will be kept\n  RuleType[RuleType[\"IMPORT\"] = 3] = \"IMPORT\";\n  RuleType[RuleType[\"FONT_FACE\"] = 5] = \"FONT_FACE\";\n  RuleType[RuleType[\"PAGE\"] = 6] = \"PAGE\";\n  RuleType[RuleType[\"KEYFRAMES\"] = 7] = \"KEYFRAMES\";\n  RuleType[RuleType[\"KEYFRAME\"] = 8] = \"KEYFRAME\";\n})(RuleType || (RuleType = {}));\nvar arrayify = function arrayify(list) {\n  return [].slice.call(list, 0);\n};\nvar rawDocumentBodyAppend = HTMLBodyElement.prototype.appendChild;\nexport var ScopedCSS = /*#__PURE__*/function () {\n  function ScopedCSS() {\n    _classCallCheck(this, ScopedCSS);\n    this.sheet = void 0;\n    this.swapNode = void 0;\n    var styleNode = document.createElement('style');\n    rawDocumentBodyAppend.call(document.body, styleNode);\n    this.swapNode = styleNode;\n    this.sheet = styleNode.sheet;\n    this.sheet.disabled = true;\n  }\n  _createClass(ScopedCSS, [{\n    key: \"process\",\n    value: function process(styleNode) {\n      var _this = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      if (ScopedCSS.ModifiedTag in styleNode) {\n        return;\n      }\n      if (styleNode.textContent !== '') {\n        var _sheet$cssRules;\n        var textNode = document.createTextNode(styleNode.textContent || '');\n        this.swapNode.appendChild(textNode);\n        var sheet = this.swapNode.sheet; // type is missing\n        var rules = arrayify((_sheet$cssRules = sheet === null || sheet === void 0 ? void 0 : sheet.cssRules) !== null && _sheet$cssRules !== void 0 ? _sheet$cssRules : []);\n        var css = this.rewrite(rules, prefix);\n        // eslint-disable-next-line no-param-reassign\n        styleNode.textContent = css;\n        // cleanup\n        this.swapNode.removeChild(textNode);\n        styleNode[ScopedCSS.ModifiedTag] = true;\n        return;\n      }\n      var mutator = new MutationObserver(function (mutations) {\n        for (var i = 0; i < mutations.length; i += 1) {\n          var mutation = mutations[i];\n          if (ScopedCSS.ModifiedTag in styleNode) {\n            return;\n          }\n          if (mutation.type === 'childList') {\n            var _sheet$cssRules2;\n            var _sheet = styleNode.sheet;\n            var _rules = arrayify((_sheet$cssRules2 = _sheet === null || _sheet === void 0 ? void 0 : _sheet.cssRules) !== null && _sheet$cssRules2 !== void 0 ? _sheet$cssRules2 : []);\n            var _css = _this.rewrite(_rules, prefix);\n            // eslint-disable-next-line no-param-reassign\n            styleNode.textContent = _css;\n            // eslint-disable-next-line no-param-reassign\n            styleNode[ScopedCSS.ModifiedTag] = true;\n          }\n        }\n      });\n      // since observer will be deleted when node be removed\n      // we dont need create a cleanup function manually\n      // see https://developer.mozilla.org/en-US/docs/Web/API/MutationObserver/disconnect\n      mutator.observe(styleNode, {\n        childList: true\n      });\n    }\n  }, {\n    key: \"rewrite\",\n    value: function rewrite(rules) {\n      var _this2 = this;\n      var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n      var css = '';\n      rules.forEach(function (rule) {\n        switch (rule.type) {\n          case RuleType.STYLE:\n            css += _this2.ruleStyle(rule, prefix);\n            break;\n          case RuleType.MEDIA:\n            css += _this2.ruleMedia(rule, prefix);\n            break;\n          case RuleType.SUPPORTS:\n            css += _this2.ruleSupport(rule, prefix);\n            break;\n          default:\n            if (typeof rule.cssText === 'string') {\n              css += \"\".concat(rule.cssText);\n            }\n            break;\n        }\n      });\n      return css;\n    }\n    // handle case:\n    // .app-main {}\n    // html, body {}\n    // eslint-disable-next-line class-methods-use-this\n  }, {\n    key: \"ruleStyle\",\n    value: function ruleStyle(rule, prefix) {\n      var rootSelectorRE = /((?:[^\\w\\-.#]|^)(body|html|:root))/gm;\n      var rootCombinationRE = /(html[^\\w{[]+)/gm;\n      var selector = rule.selectorText.trim();\n      var cssText = '';\n      if (typeof rule.cssText === 'string') {\n        cssText = rule.cssText;\n      }\n      // handle html { ... }\n      // handle body { ... }\n      // handle :root { ... }\n      if (selector === 'html' || selector === 'body' || selector === ':root') {\n        return cssText.replace(rootSelectorRE, prefix);\n      }\n      // handle html body { ... }\n      // handle html > body { ... }\n      if (rootCombinationRE.test(rule.selectorText)) {\n        var siblingSelectorRE = /(html[^\\w{]+)(\\+|~)/gm;\n        // since html + body is a non-standard rule for html\n        // transformer will ignore it\n        if (!siblingSelectorRE.test(rule.selectorText)) {\n          cssText = cssText.replace(rootCombinationRE, '');\n        }\n      }\n      // handle grouping selector, a,span,p,div { ... }\n      cssText = cssText.replace(/^[\\s\\S]+{/, function (selectors) {\n        return selectors.replace(/(^|,\\n?)([^,]+)/g, function (item, p, s) {\n          // handle div,body,span { ... }\n          if (rootSelectorRE.test(item)) {\n            return item.replace(rootSelectorRE, function (m) {\n              // do not discard valid previous character, such as body,html or *:not(:root)\n              var whitePrevChars = [',', '('];\n              if (m && whitePrevChars.includes(m[0])) {\n                return \"\".concat(m[0]).concat(prefix);\n              }\n              // replace root selector with prefix\n              return prefix;\n            });\n          }\n          return \"\".concat(p).concat(prefix, \" \").concat(s.replace(/^ */, ''));\n        });\n      });\n      return cssText;\n    }\n    // handle case:\n    // @media screen and (max-width: 300px) {}\n  }, {\n    key: \"ruleMedia\",\n    value: function ruleMedia(rule, prefix) {\n      var css = this.rewrite(arrayify(rule.cssRules), prefix);\n      return \"@media \".concat(rule.conditionText || rule.media.mediaText, \" {\").concat(css, \"}\");\n    }\n    // handle case:\n    // @supports (display: grid) {}\n  }, {\n    key: \"ruleSupport\",\n    value: function ruleSupport(rule, prefix) {\n      var css = this.rewrite(arrayify(rule.cssRules), prefix);\n      return \"@supports \".concat(rule.conditionText || rule.cssText.split('{')[0], \" {\").concat(css, \"}\");\n    }\n  }]);\n  return ScopedCSS;\n}();\nScopedCSS.ModifiedTag = 'Symbol(style-modified-qiankun)';\nvar processor;\nexport var QiankunCSSRewriteAttr = 'data-qiankun';\nexport var process = function process(appWrapper, stylesheetElement, appName) {\n  // lazy singleton pattern\n  if (!processor) {\n    processor = new ScopedCSS();\n  }\n  if (stylesheetElement.tagName === 'LINK') {\n    console.warn('Feature: sandbox.experimentalStyleIsolation is not support for link element yet.');\n  }\n  var mountDOM = appWrapper;\n  if (!mountDOM) {\n    return;\n  }\n  var tag = (mountDOM.tagName || '').toLowerCase();\n  if (tag && stylesheetElement.tagName === 'STYLE') {\n    var prefix = \"\".concat(tag, \"[\").concat(QiankunCSSRewriteAttr, \"=\\\"\").concat(appName, \"\\\"]\");\n    processor.process(stylesheetElement, prefix);\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}