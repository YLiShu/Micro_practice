{"ast":null,"code":"/**\n * @author Kuitos\n * @since 2019-02-19\n */\nimport { getMountedApps, navigateToUrl } from 'single-spa';\nvar firstMountLogLabel = '[qiankun] first app mounted';\nif (process.env.NODE_ENV === 'development') {\n  console.time(firstMountLogLabel);\n}\nexport function setDefaultMountApp(defaultAppLink) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:no-app-change', function listener() {\n    var mountedApps = getMountedApps();\n    if (!mountedApps.length) {\n      navigateToUrl(defaultAppLink);\n    }\n    window.removeEventListener('single-spa:no-app-change', listener);\n  });\n}\nexport function runDefaultMountEffects(defaultAppLink) {\n  console.warn('[qiankun] runDefaultMountEffects will be removed in next version, please use setDefaultMountApp instead');\n  setDefaultMountApp(defaultAppLink);\n}\nexport function runAfterFirstMounted(effect) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:first-mount', function listener() {\n    if (process.env.NODE_ENV === 'development') {\n      console.timeEnd(firstMountLogLabel);\n    }\n    effect();\n    window.removeEventListener('single-spa:first-mount', listener);\n  });\n}","map":{"version":3,"names":["getMountedApps","navigateToUrl","firstMountLogLabel","process","env","NODE_ENV","console","time","setDefaultMountApp","defaultAppLink","window","addEventListener","listener","mountedApps","length","removeEventListener","runDefaultMountEffects","warn","runAfterFirstMounted","effect","timeEnd"],"sources":["/home/lishu/桌面/Micro_frontend_practice/qiankun_micro/qiankun-base/node_modules/qiankun/es/effects.js"],"sourcesContent":["/**\n * @author Kuitos\n * @since 2019-02-19\n */\nimport { getMountedApps, navigateToUrl } from 'single-spa';\nvar firstMountLogLabel = '[qiankun] first app mounted';\nif (process.env.NODE_ENV === 'development') {\n  console.time(firstMountLogLabel);\n}\nexport function setDefaultMountApp(defaultAppLink) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:no-app-change', function listener() {\n    var mountedApps = getMountedApps();\n    if (!mountedApps.length) {\n      navigateToUrl(defaultAppLink);\n    }\n    window.removeEventListener('single-spa:no-app-change', listener);\n  });\n}\nexport function runDefaultMountEffects(defaultAppLink) {\n  console.warn('[qiankun] runDefaultMountEffects will be removed in next version, please use setDefaultMountApp instead');\n  setDefaultMountApp(defaultAppLink);\n}\nexport function runAfterFirstMounted(effect) {\n  // can not use addEventListener once option for ie support\n  window.addEventListener('single-spa:first-mount', function listener() {\n    if (process.env.NODE_ENV === 'development') {\n      console.timeEnd(firstMountLogLabel);\n    }\n    effect();\n    window.removeEventListener('single-spa:first-mount', listener);\n  });\n}"],"mappings":"AAAA;AACA;AACA;AACA;AACA,SAASA,cAAc,EAAEC,aAAa,QAAQ,YAAY;AAC1D,IAAIC,kBAAkB,GAAG,6BAA6B;AACtD,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;EAC1CC,OAAO,CAACC,IAAI,CAACL,kBAAkB,CAAC;AAClC;AACA,OAAO,SAASM,kBAAkBA,CAACC,cAAc,EAAE;EACjD;EACAC,MAAM,CAACC,gBAAgB,CAAC,0BAA0B,EAAE,SAASC,QAAQA,CAAA,EAAG;IACtE,IAAIC,WAAW,GAAGb,cAAc,CAAC,CAAC;IAClC,IAAI,CAACa,WAAW,CAACC,MAAM,EAAE;MACvBb,aAAa,CAACQ,cAAc,CAAC;IAC/B;IACAC,MAAM,CAACK,mBAAmB,CAAC,0BAA0B,EAAEH,QAAQ,CAAC;EAClE,CAAC,CAAC;AACJ;AACA,OAAO,SAASI,sBAAsBA,CAACP,cAAc,EAAE;EACrDH,OAAO,CAACW,IAAI,CAAC,yGAAyG,CAAC;EACvHT,kBAAkB,CAACC,cAAc,CAAC;AACpC;AACA,OAAO,SAASS,oBAAoBA,CAACC,MAAM,EAAE;EAC3C;EACAT,MAAM,CAACC,gBAAgB,CAAC,wBAAwB,EAAE,SAASC,QAAQA,CAAA,EAAG;IACpE,IAAIT,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,EAAE;MAC1CC,OAAO,CAACc,OAAO,CAAClB,kBAAkB,CAAC;IACrC;IACAiB,MAAM,CAAC,CAAC;IACRT,MAAM,CAACK,mBAAmB,CAAC,wBAAwB,EAAEH,QAAQ,CAAC;EAChE,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}