{"ast":null,"code":"var _jsxFileName = \"/home/lishu/\\u684C\\u9762/Micro_frontend_practice/qiankun_micro/qiankun-base/src/index.tsx\";\nimport React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport { registerMicroApps, start, initGlobalState } from 'qiankun';\n\n// 要加载的子应用列表\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apps = [{\n  name: 'micro-react',\n  // 子应用名称\n  entry: '//localhost:3011',\n  // 默认会加载这个路径下的html，解析里面的js\n  container: '#micro-react',\n  // 加载的容器\n  activeRule: '/micro-react' // 匹配的路由\n}, {\n  name: 'micro-vue2',\n  // 子应用名称\n  entry: '//localhost:3012',\n  // 默认会加载这个路径下的html，解析里面的js\n  container: '#micro-vue2',\n  // 加载的容器\n  activeRule: '/micro-vue2' // 匹配的路由\n}, {\n  name: 'micro-vue3',\n  // 子应用名称\n  entry: '//localhost:3013',\n  // 默认会加载这个路径下的html，解析里面的js\n  container: '#micro-vue3',\n  // 加载的容器\n  activeRule: '/micro-vue3' // 匹配的路由\n}];\n\n// 注册子应用\n\nregisterMicroApps(apps, {\n  beforeLoad: [async app => console.log('before load', app.name)],\n  beforeMount: [async app => console.log('before mount', app.name)],\n  afterMount: [async app => console.log('after mount', app.name)]\n});\nconst state = {\n  count: 1\n};\nconst actions = initGlobalState(state);\n// 主项目项目监听和修改\nactions.onGlobalStateChange((state, prev) => {\n  // state：变更后的状态；prev：变更前的状态\n  console.log(state, prev);\n});\nactions.setGlobalState(state); // 设置全局状态\n\nstart(); // 启动qiankun\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render( /*#__PURE__*/_jsxDEV(React.StrictMode, {\n  children: /*#__PURE__*/_jsxDEV(BrowserRouter, {\n    children: /*#__PURE__*/_jsxDEV(App, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 57,\n  columnNumber: 3\n}, this));","map":{"version":3,"names":["React","ReactDOM","BrowserRouter","App","registerMicroApps","start","initGlobalState","jsxDEV","_jsxDEV","apps","name","entry","container","activeRule","beforeLoad","app","console","log","beforeMount","afterMount","state","count","actions","onGlobalStateChange","prev","setGlobalState","root","createRoot","document","getElementById","render","StrictMode","children","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/lishu/桌面/Micro_frontend_practice/qiankun_micro/qiankun-base/src/index.tsx"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './App';\nimport routes from './routes';\nimport Home from './pages/Home';\nimport { registerMicroApps, start, initGlobalState } from 'qiankun';\n\n// 要加载的子应用列表\nconst apps = [\n  {\n    name: 'micro-react', // 子应用名称\n    entry: '//localhost:3011', // 默认会加载这个路径下的html，解析里面的js\n    container: '#micro-react', // 加载的容器\n    activeRule: '/micro-react', // 匹配的路由\n  },\n  {\n    name: 'micro-vue2', // 子应用名称\n    entry: '//localhost:3012', // 默认会加载这个路径下的html，解析里面的js\n    container: '#micro-vue2', // 加载的容器\n    activeRule: '/micro-vue2', // 匹配的路由\n  },\n  {\n    name: 'micro-vue3', // 子应用名称\n    entry: '//localhost:3013', // 默认会加载这个路径下的html，解析里面的js\n    container: '#micro-vue3', // 加载的容器\n    activeRule: '/micro-vue3', // 匹配的路由\n  }\n];\n\n// 注册子应用\n\nregisterMicroApps(apps, {\n  beforeLoad: [async app => console.log('before load', app.name)],\n  beforeMount: [async app => console.log('before mount', app.name)],\n  afterMount: [async app => console.log('after mount', app.name)],\n});\n\nconst state = { count: 1 };\n\nconst actions = initGlobalState(state);\n// 主项目项目监听和修改\nactions.onGlobalStateChange((state, prev) => {\n  // state：变更后的状态；prev：变更前的状态\n  console.log(state, prev);\n})\n\nactions.setGlobalState(state); // 设置全局状态\n\nstart(); // 启动qiankun\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>\n);\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,kBAAkB;AACvC,SAASC,aAAa,QAAQ,kBAAkB;AAChD,OAAO,aAAa;AACpB,OAAOC,GAAG,MAAM,OAAO;AAGvB,SAASC,iBAAiB,EAAEC,KAAK,EAAEC,eAAe,QAAQ,SAAS;;AAEnE;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,IAAI,GAAG,CACX;EACEC,IAAI,EAAE,aAAa;EAAE;EACrBC,KAAK,EAAE,kBAAkB;EAAE;EAC3BC,SAAS,EAAE,cAAc;EAAE;EAC3BC,UAAU,EAAE,cAAc,CAAE;AAC9B,CAAC,EACD;EACEH,IAAI,EAAE,YAAY;EAAE;EACpBC,KAAK,EAAE,kBAAkB;EAAE;EAC3BC,SAAS,EAAE,aAAa;EAAE;EAC1BC,UAAU,EAAE,aAAa,CAAE;AAC7B,CAAC,EACD;EACEH,IAAI,EAAE,YAAY;EAAE;EACpBC,KAAK,EAAE,kBAAkB;EAAE;EAC3BC,SAAS,EAAE,aAAa;EAAE;EAC1BC,UAAU,EAAE,aAAa,CAAE;AAC7B,CAAC,CACF;;AAED;;AAEAT,iBAAiB,CAACK,IAAI,EAAE;EACtBK,UAAU,EAAE,CAAC,MAAMC,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,GAAG,CAACL,IAAI,CAAC,CAAC;EAC/DQ,WAAW,EAAE,CAAC,MAAMH,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEF,GAAG,CAACL,IAAI,CAAC,CAAC;EACjES,UAAU,EAAE,CAAC,MAAMJ,GAAG,IAAIC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAEF,GAAG,CAACL,IAAI,CAAC;AAChE,CAAC,CAAC;AAEF,MAAMU,KAAK,GAAG;EAAEC,KAAK,EAAE;AAAE,CAAC;AAE1B,MAAMC,OAAO,GAAGhB,eAAe,CAACc,KAAK,CAAC;AACtC;AACAE,OAAO,CAACC,mBAAmB,CAAC,CAACH,KAAK,EAAEI,IAAI,KAAK;EAC3C;EACAR,OAAO,CAACC,GAAG,CAACG,KAAK,EAAEI,IAAI,CAAC;AAC1B,CAAC,CAAC;AAEFF,OAAO,CAACG,cAAc,CAACL,KAAK,CAAC,CAAC,CAAC;;AAE/Bf,KAAK,CAAC,CAAC,CAAC,CAAC;;AAET,MAAMqB,IAAI,GAAGzB,QAAQ,CAAC0B,UAAU,CAC9BC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAChC,CAAC;AACDH,IAAI,CAACI,MAAM,eACTtB,OAAA,CAACR,KAAK,CAAC+B,UAAU;EAAAC,QAAA,eACfxB,OAAA,CAACN,aAAa;IAAA8B,QAAA,eACZxB,OAAA,CAACL,GAAG;MAAA8B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACM;AAAC;EAAAH,QAAA,EAAAC,YAAA;EAAAC,UAAA;EAAAC,YAAA;AAAA,OACA,CACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}