{"ast":null,"code":"import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _isFunction from \"lodash/isFunction\";\nimport _once from \"lodash/once\";\nimport _snakeCase from \"lodash/snakeCase\";\nimport _memoize from \"lodash/memoize\";\n/**\n * @author Kuitos\n * @since 2019-05-15\n */\nimport { version } from './version';\nexport function toArray(array) {\n  return Array.isArray(array) ? array : [array];\n}\nexport function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\n// Promise.then might be synchronized in Zone.js context, we need to use setTimeout instead to mock next tick.\n// Since zone.js will hijack the setTimeout callback, and notify angular to do change detection, so we need to use the  __zone_symbol__setTimeout to avoid this, see https://github.com/umijs/qiankun/issues/2384\nvar nextTick = typeof window.__zone_symbol__setTimeout === 'function' ? window.__zone_symbol__setTimeout : function (cb) {\n  return Promise.resolve().then(cb);\n};\nvar globalTaskPending = false;\n/**\n * Run a callback before next task executing, and the invocation is idempotent in every singular task\n * That means even we called nextTask multi times in one task, only the first callback will be pushed to nextTick to be invoked.\n * @param cb\n */\nexport function nextTask(cb) {\n  if (!globalTaskPending) {\n    globalTaskPending = true;\n    nextTick(function () {\n      cb();\n      globalTaskPending = false;\n    });\n  }\n}\nvar fnRegexCheckCacheMap = new WeakMap();\nexport function isConstructable(fn) {\n  // prototype methods might be changed while code running, so we need check it every time\n  var hasPrototypeMethods = fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\n  if (hasPrototypeMethods) return true;\n  if (fnRegexCheckCacheMap.has(fn)) {\n    return fnRegexCheckCacheMap.get(fn);\n  }\n  /*\n    1. 有 prototype 并且 prototype 上有定义一系列非 constructor 属性\n    2. 函数名大写开头\n    3. class 函数\n    满足其一则可认定为构造函数\n   */\n  var constructable = hasPrototypeMethods;\n  if (!constructable) {\n    // fn.toString has a significant performance overhead, if hasPrototypeMethods check not passed, we will check the function string with regex\n    var fnString = fn.toString();\n    var constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n    var classRegex = /^class\\b/;\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\n  }\n  fnRegexCheckCacheMap.set(fn, constructable);\n  return constructable;\n}\nvar callableFnCacheMap = new WeakMap();\nexport function isCallable(fn) {\n  if (callableFnCacheMap.has(fn)) {\n    return true;\n  }\n  /**\n   * We can not use typeof to confirm it is function as in some safari version\n   * typeof document.all === 'undefined' // true\n   * typeof document.all === 'function' // true\n   */\n  var callable = typeof fn === 'function' && fn instanceof Function;\n  if (callable) {\n    callableFnCacheMap.set(fn, callable);\n  }\n  return callable;\n}\nvar frozenPropertyCacheMap = new WeakMap();\nexport function isPropertyFrozen(target, p) {\n  if (!target || !p) {\n    return false;\n  }\n  var targetPropertiesFromCache = frozenPropertyCacheMap.get(target) || {};\n  if (targetPropertiesFromCache[p]) {\n    return targetPropertiesFromCache[p];\n  }\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(target, p);\n  var frozen = Boolean(propertyDescriptor && propertyDescriptor.configurable === false && (propertyDescriptor.writable === false || propertyDescriptor.get && !propertyDescriptor.set));\n  targetPropertiesFromCache[p] = frozen;\n  frozenPropertyCacheMap.set(target, targetPropertiesFromCache);\n  return frozen;\n}\nvar boundedMap = new WeakMap();\nexport function isBoundedFunction(fn) {\n  if (boundedMap.has(fn)) {\n    return boundedMap.get(fn);\n  }\n  /*\n   indexOf is faster than startsWith\n   see https://jsperf.com/string-startswith/72\n   */\n  var bounded = fn.name.indexOf('bound ') === 0 && !fn.hasOwnProperty('prototype');\n  boundedMap.set(fn, bounded);\n  return bounded;\n}\nexport var isConstDestructAssignmentSupported = _memoize(function () {\n  try {\n    new Function('const { a } = { a: 1 }')();\n    return true;\n  } catch (e) {\n    return false;\n  }\n});\nexport var qiankunHeadTagName = 'qiankun-head';\nexport function getDefaultTplWrapper(name, sandboxOpts) {\n  return function (tpl) {\n    var tplWithSimulatedHead;\n    if (tpl.indexOf('<head>') !== -1) {\n      // We need to mock a head placeholder as native head element will be erased by browser in micro app\n      tplWithSimulatedHead = tpl.replace('<head>', \"<\".concat(qiankunHeadTagName, \">\")).replace('</head>', \"</\".concat(qiankunHeadTagName, \">\"));\n    } else {\n      // Some template might not be a standard html document, thus we need to add a simulated head tag for them\n      tplWithSimulatedHead = \"<\".concat(qiankunHeadTagName, \"></\").concat(qiankunHeadTagName, \">\").concat(tpl);\n    }\n    return \"<div id=\\\"\".concat(getWrapperId(name), \"\\\" data-name=\\\"\").concat(name, \"\\\" data-version=\\\"\").concat(version, \"\\\" data-sandbox-cfg=\").concat(JSON.stringify(sandboxOpts), \">\").concat(tplWithSimulatedHead, \"</div>\");\n  };\n}\nexport function getWrapperId(name) {\n  return \"__qiankun_microapp_wrapper_for_\".concat(_snakeCase(name), \"__\");\n}\nexport var nativeGlobal = new Function('return this')();\nexport var nativeDocument = new Function('return document')();\nvar getGlobalAppInstanceMap = _once(function () {\n  if (!nativeGlobal.hasOwnProperty('__app_instance_name_map__')) {\n    Object.defineProperty(nativeGlobal, '__app_instance_name_map__', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n  }\n  return nativeGlobal.__app_instance_name_map__;\n});\n/**\n * Get app instance name with the auto-increment approach\n * @param appName\n */\nexport var genAppInstanceIdByName = function genAppInstanceIdByName(appName) {\n  var globalAppInstanceMap = getGlobalAppInstanceMap();\n  if (!(appName in globalAppInstanceMap)) {\n    nativeGlobal.__app_instance_name_map__[appName] = 0;\n    return appName;\n  }\n  globalAppInstanceMap[appName]++;\n  return \"\".concat(appName, \"_\").concat(globalAppInstanceMap[appName]);\n};\n/** 校验子应用导出的 生命周期 对象是否正确 */\nexport function validateExportLifecycle(exports) {\n  var _ref = exports !== null && exports !== void 0 ? exports : {},\n    bootstrap = _ref.bootstrap,\n    mount = _ref.mount,\n    unmount = _ref.unmount;\n  return _isFunction(bootstrap) && _isFunction(mount) && _isFunction(unmount);\n}\nexport var Deferred = /*#__PURE__*/_createClass(function Deferred() {\n  var _this = this;\n  _classCallCheck(this, Deferred);\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n});\nvar supportsUserTiming = typeof performance !== 'undefined' && typeof performance.mark === 'function' && typeof performance.clearMarks === 'function' && typeof performance.measure === 'function' && typeof performance.clearMeasures === 'function' && typeof performance.getEntriesByName === 'function';\nexport function performanceGetEntriesByName(markName, type) {\n  var marks = null;\n  if (supportsUserTiming) {\n    marks = performance.getEntriesByName(markName, type);\n  }\n  return marks;\n}\nexport function performanceMark(markName) {\n  if (supportsUserTiming) {\n    performance.mark(markName);\n  }\n}\nexport function performanceMeasure(measureName, markName) {\n  if (supportsUserTiming && performance.getEntriesByName(markName, 'mark').length) {\n    performance.measure(measureName, markName);\n    performance.clearMarks(markName);\n    performance.clearMeasures(measureName);\n  }\n}\nexport function isEnableScopedCSS(sandbox) {\n  if (_typeof(sandbox) !== 'object') {\n    return false;\n  }\n  if (sandbox.strictStyleIsolation) {\n    return false;\n  }\n  return !!sandbox.experimentalStyleIsolation;\n}\n/**\n * copy from https://developer.mozilla.org/zh-CN/docs/Using_XPath\n * @param el\n * @param document\n */\nexport function getXPathForElement(el, document) {\n  // not support that if el not existed in document yet(such as it not append to document before it mounted)\n  if (!document.body.contains(el)) {\n    return undefined;\n  }\n  var xpath = '';\n  var pos;\n  var tmpEle;\n  var element = el;\n  while (element !== document.documentElement) {\n    pos = 0;\n    tmpEle = element;\n    while (tmpEle) {\n      if (tmpEle.nodeType === 1 && tmpEle.nodeName === element.nodeName) {\n        // If it is ELEMENT_NODE of the same name\n        pos += 1;\n      }\n      tmpEle = tmpEle.previousSibling;\n    }\n    xpath = \"*[name()='\".concat(element.nodeName, \"'][\").concat(pos, \"]/\").concat(xpath);\n    element = element.parentNode;\n  }\n  xpath = \"/*[name()='\".concat(document.documentElement.nodeName, \"']/\").concat(xpath);\n  xpath = xpath.replace(/\\/$/, '');\n  return xpath;\n}\nexport function getContainer(container) {\n  return typeof container === 'string' ? document.querySelector(container) : container;\n}\nexport function getContainerXPath(container) {\n  if (container) {\n    var containerElement = getContainer(container);\n    if (containerElement) {\n      return getXPathForElement(containerElement, document);\n    }\n  }\n  return undefined;\n}","map":{"version":3,"names":["_typeof","_createClass","_classCallCheck","_isFunction","_once","_snakeCase","_memoize","version","toArray","array","Array","isArray","sleep","ms","Promise","resolve","setTimeout","nextTick","window","__zone_symbol__setTimeout","cb","then","globalTaskPending","nextTask","fnRegexCheckCacheMap","WeakMap","isConstructable","fn","hasPrototypeMethods","prototype","constructor","Object","getOwnPropertyNames","length","has","get","constructable","fnString","toString","constructableFunctionRegex","classRegex","test","set","callableFnCacheMap","isCallable","callable","Function","frozenPropertyCacheMap","isPropertyFrozen","target","p","targetPropertiesFromCache","propertyDescriptor","getOwnPropertyDescriptor","frozen","Boolean","configurable","writable","boundedMap","isBoundedFunction","bounded","name","indexOf","hasOwnProperty","isConstDestructAssignmentSupported","e","qiankunHeadTagName","getDefaultTplWrapper","sandboxOpts","tpl","tplWithSimulatedHead","replace","concat","getWrapperId","JSON","stringify","nativeGlobal","nativeDocument","getGlobalAppInstanceMap","defineProperty","enumerable","value","__app_instance_name_map__","genAppInstanceIdByName","appName","globalAppInstanceMap","validateExportLifecycle","exports","_ref","bootstrap","mount","unmount","Deferred","_this","promise","reject","supportsUserTiming","performance","mark","clearMarks","measure","clearMeasures","getEntriesByName","performanceGetEntriesByName","markName","type","marks","performanceMark","performanceMeasure","measureName","isEnableScopedCSS","sandbox","strictStyleIsolation","experimentalStyleIsolation","getXPathForElement","el","document","body","contains","undefined","xpath","pos","tmpEle","element","documentElement","nodeType","nodeName","previousSibling","parentNode","getContainer","container","querySelector","getContainerXPath","containerElement"],"sources":["/home/lishu/桌面/Micro_frontend_practice/qiankun_micro/qiankun-base/node_modules/qiankun/es/utils.js"],"sourcesContent":["import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _isFunction from \"lodash/isFunction\";\nimport _once from \"lodash/once\";\nimport _snakeCase from \"lodash/snakeCase\";\nimport _memoize from \"lodash/memoize\";\n/**\n * @author Kuitos\n * @since 2019-05-15\n */\nimport { version } from './version';\nexport function toArray(array) {\n  return Array.isArray(array) ? array : [array];\n}\nexport function sleep(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n}\n// Promise.then might be synchronized in Zone.js context, we need to use setTimeout instead to mock next tick.\n// Since zone.js will hijack the setTimeout callback, and notify angular to do change detection, so we need to use the  __zone_symbol__setTimeout to avoid this, see https://github.com/umijs/qiankun/issues/2384\nvar nextTick = typeof window.__zone_symbol__setTimeout === 'function' ? window.__zone_symbol__setTimeout : function (cb) {\n  return Promise.resolve().then(cb);\n};\nvar globalTaskPending = false;\n/**\n * Run a callback before next task executing, and the invocation is idempotent in every singular task\n * That means even we called nextTask multi times in one task, only the first callback will be pushed to nextTick to be invoked.\n * @param cb\n */\nexport function nextTask(cb) {\n  if (!globalTaskPending) {\n    globalTaskPending = true;\n    nextTick(function () {\n      cb();\n      globalTaskPending = false;\n    });\n  }\n}\nvar fnRegexCheckCacheMap = new WeakMap();\nexport function isConstructable(fn) {\n  // prototype methods might be changed while code running, so we need check it every time\n  var hasPrototypeMethods = fn.prototype && fn.prototype.constructor === fn && Object.getOwnPropertyNames(fn.prototype).length > 1;\n  if (hasPrototypeMethods) return true;\n  if (fnRegexCheckCacheMap.has(fn)) {\n    return fnRegexCheckCacheMap.get(fn);\n  }\n  /*\n    1. 有 prototype 并且 prototype 上有定义一系列非 constructor 属性\n    2. 函数名大写开头\n    3. class 函数\n    满足其一则可认定为构造函数\n   */\n  var constructable = hasPrototypeMethods;\n  if (!constructable) {\n    // fn.toString has a significant performance overhead, if hasPrototypeMethods check not passed, we will check the function string with regex\n    var fnString = fn.toString();\n    var constructableFunctionRegex = /^function\\b\\s[A-Z].*/;\n    var classRegex = /^class\\b/;\n    constructable = constructableFunctionRegex.test(fnString) || classRegex.test(fnString);\n  }\n  fnRegexCheckCacheMap.set(fn, constructable);\n  return constructable;\n}\nvar callableFnCacheMap = new WeakMap();\nexport function isCallable(fn) {\n  if (callableFnCacheMap.has(fn)) {\n    return true;\n  }\n  /**\n   * We can not use typeof to confirm it is function as in some safari version\n   * typeof document.all === 'undefined' // true\n   * typeof document.all === 'function' // true\n   */\n  var callable = typeof fn === 'function' && fn instanceof Function;\n  if (callable) {\n    callableFnCacheMap.set(fn, callable);\n  }\n  return callable;\n}\nvar frozenPropertyCacheMap = new WeakMap();\nexport function isPropertyFrozen(target, p) {\n  if (!target || !p) {\n    return false;\n  }\n  var targetPropertiesFromCache = frozenPropertyCacheMap.get(target) || {};\n  if (targetPropertiesFromCache[p]) {\n    return targetPropertiesFromCache[p];\n  }\n  var propertyDescriptor = Object.getOwnPropertyDescriptor(target, p);\n  var frozen = Boolean(propertyDescriptor && propertyDescriptor.configurable === false && (propertyDescriptor.writable === false || propertyDescriptor.get && !propertyDescriptor.set));\n  targetPropertiesFromCache[p] = frozen;\n  frozenPropertyCacheMap.set(target, targetPropertiesFromCache);\n  return frozen;\n}\nvar boundedMap = new WeakMap();\nexport function isBoundedFunction(fn) {\n  if (boundedMap.has(fn)) {\n    return boundedMap.get(fn);\n  }\n  /*\n   indexOf is faster than startsWith\n   see https://jsperf.com/string-startswith/72\n   */\n  var bounded = fn.name.indexOf('bound ') === 0 && !fn.hasOwnProperty('prototype');\n  boundedMap.set(fn, bounded);\n  return bounded;\n}\nexport var isConstDestructAssignmentSupported = _memoize(function () {\n  try {\n    new Function('const { a } = { a: 1 }')();\n    return true;\n  } catch (e) {\n    return false;\n  }\n});\nexport var qiankunHeadTagName = 'qiankun-head';\nexport function getDefaultTplWrapper(name, sandboxOpts) {\n  return function (tpl) {\n    var tplWithSimulatedHead;\n    if (tpl.indexOf('<head>') !== -1) {\n      // We need to mock a head placeholder as native head element will be erased by browser in micro app\n      tplWithSimulatedHead = tpl.replace('<head>', \"<\".concat(qiankunHeadTagName, \">\")).replace('</head>', \"</\".concat(qiankunHeadTagName, \">\"));\n    } else {\n      // Some template might not be a standard html document, thus we need to add a simulated head tag for them\n      tplWithSimulatedHead = \"<\".concat(qiankunHeadTagName, \"></\").concat(qiankunHeadTagName, \">\").concat(tpl);\n    }\n    return \"<div id=\\\"\".concat(getWrapperId(name), \"\\\" data-name=\\\"\").concat(name, \"\\\" data-version=\\\"\").concat(version, \"\\\" data-sandbox-cfg=\").concat(JSON.stringify(sandboxOpts), \">\").concat(tplWithSimulatedHead, \"</div>\");\n  };\n}\nexport function getWrapperId(name) {\n  return \"__qiankun_microapp_wrapper_for_\".concat(_snakeCase(name), \"__\");\n}\nexport var nativeGlobal = new Function('return this')();\nexport var nativeDocument = new Function('return document')();\nvar getGlobalAppInstanceMap = _once(function () {\n  if (!nativeGlobal.hasOwnProperty('__app_instance_name_map__')) {\n    Object.defineProperty(nativeGlobal, '__app_instance_name_map__', {\n      enumerable: false,\n      configurable: true,\n      writable: true,\n      value: {}\n    });\n  }\n  return nativeGlobal.__app_instance_name_map__;\n});\n/**\n * Get app instance name with the auto-increment approach\n * @param appName\n */\nexport var genAppInstanceIdByName = function genAppInstanceIdByName(appName) {\n  var globalAppInstanceMap = getGlobalAppInstanceMap();\n  if (!(appName in globalAppInstanceMap)) {\n    nativeGlobal.__app_instance_name_map__[appName] = 0;\n    return appName;\n  }\n  globalAppInstanceMap[appName]++;\n  return \"\".concat(appName, \"_\").concat(globalAppInstanceMap[appName]);\n};\n/** 校验子应用导出的 生命周期 对象是否正确 */\nexport function validateExportLifecycle(exports) {\n  var _ref = exports !== null && exports !== void 0 ? exports : {},\n    bootstrap = _ref.bootstrap,\n    mount = _ref.mount,\n    unmount = _ref.unmount;\n  return _isFunction(bootstrap) && _isFunction(mount) && _isFunction(unmount);\n}\nexport var Deferred = /*#__PURE__*/_createClass(function Deferred() {\n  var _this = this;\n  _classCallCheck(this, Deferred);\n  this.promise = void 0;\n  this.resolve = void 0;\n  this.reject = void 0;\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n});\nvar supportsUserTiming = typeof performance !== 'undefined' && typeof performance.mark === 'function' && typeof performance.clearMarks === 'function' && typeof performance.measure === 'function' && typeof performance.clearMeasures === 'function' && typeof performance.getEntriesByName === 'function';\nexport function performanceGetEntriesByName(markName, type) {\n  var marks = null;\n  if (supportsUserTiming) {\n    marks = performance.getEntriesByName(markName, type);\n  }\n  return marks;\n}\nexport function performanceMark(markName) {\n  if (supportsUserTiming) {\n    performance.mark(markName);\n  }\n}\nexport function performanceMeasure(measureName, markName) {\n  if (supportsUserTiming && performance.getEntriesByName(markName, 'mark').length) {\n    performance.measure(measureName, markName);\n    performance.clearMarks(markName);\n    performance.clearMeasures(measureName);\n  }\n}\nexport function isEnableScopedCSS(sandbox) {\n  if (_typeof(sandbox) !== 'object') {\n    return false;\n  }\n  if (sandbox.strictStyleIsolation) {\n    return false;\n  }\n  return !!sandbox.experimentalStyleIsolation;\n}\n/**\n * copy from https://developer.mozilla.org/zh-CN/docs/Using_XPath\n * @param el\n * @param document\n */\nexport function getXPathForElement(el, document) {\n  // not support that if el not existed in document yet(such as it not append to document before it mounted)\n  if (!document.body.contains(el)) {\n    return undefined;\n  }\n  var xpath = '';\n  var pos;\n  var tmpEle;\n  var element = el;\n  while (element !== document.documentElement) {\n    pos = 0;\n    tmpEle = element;\n    while (tmpEle) {\n      if (tmpEle.nodeType === 1 && tmpEle.nodeName === element.nodeName) {\n        // If it is ELEMENT_NODE of the same name\n        pos += 1;\n      }\n      tmpEle = tmpEle.previousSibling;\n    }\n    xpath = \"*[name()='\".concat(element.nodeName, \"'][\").concat(pos, \"]/\").concat(xpath);\n    element = element.parentNode;\n  }\n  xpath = \"/*[name()='\".concat(document.documentElement.nodeName, \"']/\").concat(xpath);\n  xpath = xpath.replace(/\\/$/, '');\n  return xpath;\n}\nexport function getContainer(container) {\n  return typeof container === 'string' ? document.querySelector(container) : container;\n}\nexport function getContainerXPath(container) {\n  if (container) {\n    var containerElement = getContainer(container);\n    if (containerElement) {\n      return getXPathForElement(containerElement, document);\n    }\n  }\n  return undefined;\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}